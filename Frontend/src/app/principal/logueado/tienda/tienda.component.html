<div class="contenido">
    <div class="titulo">
        <h2>> Tienda</h2>
    </div>
    <div class="subtitulo">
        <h3>> Material bibliográfico (físico)</h3>
    </div>
    <div class="filtros">
        <div class="filtro">
            <p>Precio</p>
            <div class="seleccionable">
                <select name="precio" id="precioSel" [(ngModel)]="filtroPrecio" required>
                    <option value="1">0-10</option>
                    <option value="2">10-20</option>
                    <option value="3">20-40</option>
                    <option value="4">40-60</option>
                    <option value="5">60-100</option>
                    <option value="6">100+</option>
                </select>
            </div>
        </div>
        <div class="filtro">
            <p>Idioma</p>
            <div class="seleccionable">
                <select name="idioma" id="idiomaSel" [(ngModel)]="filtroIdioma" required>
                    <option value="Espanol">Español</option>
                    <option value="Ingles">Ingles</option>
                    <option value="Portugues">Portugues</option>
                </select>
            </div>
        </div>
        <div class="filtro">
            <p>Categoria</p>
            <div class="seleccionable">
                <select name="categoria" id="categoriaSel" [(ngModel)]="filtro3" required>
                    <option *ngFor="let categoria of filtro_categorias" value={{categoria.nombreC}}>{{categoria.nombreC}}</option>
                </select>
            </div>
        </div>
        <div class="filtro">
            <p>Año de pub.</p>
            <div class="seleccionable">
                <select name="anio" id="anioSel" [(ngModel)]="filtroAnio" required>
                    <option value="1">1900-</option>
                    <option value="2">1900-1925</option>
                    <option value="3">1925-1950</option>
                    <option value="4">1950-1975</option>
                    <option value="5">1975-2000</option>
                    <option value="6">2000-2025</option>
                </select>
            </div>
        </div>
        <div class="filtro">
            <p>Colección</p>
            <div class="seleccionable">
                <select name="coleccion" id="coleccionSel" [(ngModel)]="filtroCol" required>
                    <option *ngFor="let coleccion of filtro_coleccion" value={{coleccion.id_coleccion}}>{{coleccion.nombre.substring(0,14)+'...'}}</option>
                </select>
            </div>
        </div>
        <div class="boton">
            <button (click)="Filtrar()">Filtrar</button>
        </div>
        <div class="boton" style="margin-left: 15px;">
            <button (click)="RefreshFiltrar()">Refresh</button>
        </div>
    </div>
    <li>
        <div class="libroFisico">
            <li class="encabezado">
                <div class="col-10">
                    <p>ID</p>
                </div>
                <div class="col-20">
                    <p>Titulo</p>
                </div>
                <div class="col-10">
                    <p>Autor</p>
                </div>
                <div class="col-10">
                    <p>Publicación</p>
                </div>
                <div class="col-10">
                    <p>Idioma</p>
                </div>
                <div class="col-10">
                    <p>Precio</p>
                </div>
                <div class="col-10">
                    <p>Publicante</p>
                </div>
                <div class="col-20">
                    <p>Colección</p>
                </div>
            </li>

            <div class="contenido-tabla">
                <li class="contenido" *ngFor="let materiales of tienda_fisica_filtrada" style="margin: 0px; padding: 0px; cursor: pointer;" (click)="abrirOpciones(materiales.idMat)">
                    <div class="colecciones" style="grid-gap: 24px;">
                        <div class="col-10">
                            <p>{{ materiales.idMat }}</p>
                        </div>
                        <div class="col-20" style="justify-content: left;">
                            <p>{{ materiales.tituloMat }}</p>
                        </div>
                        <div class="col-10">
                            <p>{{ materiales.autorMat }}</p>
                        </div>
                        <div class="col-10">
                            <p>{{ materiales.originalMat }}</p>
                        </div>
                        <div class="col-10">
                            <p>{{ materiales.idiomaMat }}</p>
                        </div>
                        <div class="col-10">
                            <p>{{ materiales.precioFMat }}</p>
                        </div>
                        <div class="col-10">
                            <p>{{ materiales.nombreUsu }} {{ materiales.aPatUsu }} {{ materiales.aMatUsu }}</p>
                        </div>
                        <div class="col-20">
                            <p>{{ materiales.nombreCol }}</p>
                        </div>
                    </div>
                    <div class="tags">
                        <p>TAGS: </p>
                        <div *ngFor="let categoria of categorias_tienda">
                            <div class="tag" *ngIf="categoria.idM == materiales.idMat">
                                <div class="nombre-tag">
                                    <p>{{ categoria.nombreC }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="comprar oculto" [id]="materiales.idMat">
                        <form action="">
                            <button class="botones" type="submit" style="cursor: pointer; background: #27e1a9; width: 150px; margin-top: 0px; margin-bottom: 15px;" (click)="agregarAlCarrito(materiales.idMat)">Agregar al carrito</button>
                        </form>
                    </div>
                </li>
                <div class="boton" style="display: flex; justify-content: center; margin-top: 10px;">
                    <button (click)="recargarMaterialesFisicos()">Refresh</button>
                </div>
            </div>
        </div>
    </li>
    <div class="subtitulo">
        <h3>> Mi carrito</h3>
    </div>
    <li>
        <div class="libroDigital">
            <li class="encabezado">
                <div class="col-10">
                    <p>ID</p>
                </div>
                <div class="col-20">
                    <p>Titulo Material</p>
                </div>
                <div class="col-10">
                    <p>Autor</p>
                </div>
                <div class="col-10">
                    <p>Publicación</p>
                </div>
                <div class="col-10">
                    <p>Idioma</p>
                </div>
                <div class="col-10">
                    <p>Precio</p>
                </div>
                <div class="col-10">
                    <p>Publicante</p>
                </div>
                <div class="col-20">
                    <p>Colección</p>
                </div>
            </li>

            <div class="contenido-tabla">
                <li class="contenido" *ngFor="let materiales of carrito_array" style="margin: 0px; padding: 0px; cursor: pointer;" (click)="abrirOpciones1(materiales.idMat)">
                    <div class="colecciones" style="grid-gap: 24px;">
                        <div class="col-10">
                            <p>{{ materiales.idMat }}</p>
                        </div>
                        <div class="col-20" style="justify-content: left;">
                            <p>{{ materiales.tituloMat }}</p>
                        </div>
                        <div class="col-10">
                            <p>{{ materiales.autorMat }}</p>
                        </div>
                        <div class="col-10">
                            <p>{{ materiales.originalMat }}</p>
                        </div>
                        <div class="col-10">
                            <p>{{ materiales.idiomaMat }}</p>
                        </div>
                        <div class="col-10">
                            <p>{{ materiales.precioFMat }}</p>
                        </div>
                        <div class="col-10">
                            <p>{{ materiales.nombreUsu }} {{ materiales.aPatUsu }} {{ materiales.aMatUsu }}</p>
                        </div>
                        <div class="col-20">
                            <p>{{ materiales.nombreCol }}</p>
                        </div>
                    </div>
                    <div class="tags">
                        <p>TAGS: </p>
                        <div *ngFor="let categoria of categorias_tienda">
                            <div class="tag" *ngIf="categoria.idM == materiales.idMat">
                                <div class="nombre-tag">
                                    <p>{{ categoria.nombreC }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="comprar oculto" [id]="materiales.idMat+'C'">
                        <form action="">
                            <button class="botones" type="submit" style="cursor: pointer; background: #27e1a9; width: 110px; margin-top: 0px; margin-bottom: 15px;"
                                (click)="comprarMaterial(materiales.idMat)">Comprar</button>
                        </form>
                    </div>
                </li>
            </div>
        </div>
    </li>
</div>

<!-- CARGANDO Y ALERTA -->
<div *ngIf="cargando" class="mensaje-cargando">
    <p>Cargando...</p>
</div>

<div *ngIf="mostrarAlerta" class="mensaje-alert">
    <div class="alerta">
        {{ mensajeAlerta }}
        <div class="boton" style="display: flex; justify-content: center;">
            <button class="btn" style="width: 110px; height: 25px; margin: 0px; padding: 0px; margin-top: 10px;" (click)="continuar()">Continuar</button>
        </div>
    </div>
</div>